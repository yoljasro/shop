(window.itsecWebpackJsonP=window.itsecWebpackJsonP||[]).push([[5],{I56w:function(e,t,n){},LZ3w:function(e,t,n){},UuI1:function(e,t,n){},tMTs:function(e,t,n){"use strict";n.d(t,"a",(function(){return V}));var i={};n.r(i),n.d(i,"BaseInput",(function(){return u})),n.d(i,"ToggleWidget",(function(){return m})),n.d(i,"CheckboxWidget",(function(){return p})),n.d(i,"CheckboxesWidget",(function(){return f})),n.d(i,"SelectWidget",(function(){return E})),n.d(i,"TextareaWidget",(function(){return y})),n.d(i,"RadioWidget",(function(){return S})),n.d(i,"IncludeExcludeWidget",(function(){return T}));var l={};n.r(l),n.d(l,"TitleField",(function(){return L})),n.d(l,"EntitySelectField",(function(){return W})),n.d(l,"TextareaListField",(function(){return D})),n.d(l,"FileTreeField",(function(){return P}));var c=n("YLtl"),a=n("pVnL"),r=n.n(a),o=n("GRId"),s=n("tI+e"),d=n("49++");var u=function(e){const{id:t,label:n,value:i,readonly:l,disabled:a,onBlur:u,onFocus:b,options:m,onChange:p,schema:f,uiSchema:O={},...h}=e;m.inputType?h.type=m.inputType:h.type||("number"===f.type?(h.type="number",h.step="any"):"integer"===f.type?(h.type="number",h.step="1"):h.type="text"),m.autocomplete&&(h.autoComplete=m.autocomplete),f.multipleOf&&(h.step=f.multipleOf),void 0!==f.minimum&&(h.min=f.minimum),void 0!==f.maximum&&(h.max=f.maximum);const j=O["ui:description"]||f.description;return Object(o.createElement)(s.TextControl,r()({label:n,help:Object(o.createElement)(d.o,{noWrap:!0,content:j}),readOnly:l,disabled:a,value:i||""},Object(c.omit)(h,["autofocus","formContext","registry","rawErrors"]),{onChange:e=>p(""===e?m.emptyValue:e),onBlur:u&&(e=>u(h.id,e.target.value)),onFocus:b&&(e=>b(h.id,e.target.value))}))},b=n("V7jF");function m(e){let{schema:t,uiSchema:n={},id:i,value:l,disabled:c,readonly:a,label:r,onBlur:u,onFocus:m,onChange:p}=e;const f=b.b.schemaRequiresTrueValue(t),O=n["ui:description"]||t.description;return Object(o.createElement)(s.ToggleControl,{checked:l||!1,onChange:p,required:f,disabled:c,readOnly:a,label:r,help:Object(o.createElement)(d.o,{noWrap:!0,content:O}),onBlur:u&&(e=>u(i,e.target.checked)),onFocus:m&&(e=>m(i,e.target.checked))})}function p(e){let{schema:t,uiSchema:n={},id:i,value:l,disabled:c,readonly:a,label:r,onBlur:u,onFocus:m,onChange:p}=e;const f=b.b.schemaRequiresTrueValue(t),O=n["ui:description"]||t.description;return Object(o.createElement)(s.CheckboxControl,{checked:l||!1,onChange:p,required:f,disabled:c,readOnly:a,label:r,help:Object(o.createElement)(d.o,{noWrap:!0,content:O}),onBlur:u&&(e=>u(i,e.target.checked)),onFocus:m&&(e=>m(i,e.target.checked))})}function f(e){const{disabled:t,options:n,value:i,readonly:l,onChange:c,label:a,schema:r,uiSchema:s={}}=e,{enumOptions:u,enumDisabled:b=[],enumDescriptions:m=[]}=n,p=s["ui:description"]||r.description,f=u.map((e,t)=>({...e,disabled:b.includes(e.value),help:m[t]&&Object(o.createElement)(d.o,{noWrap:!0,content:m[t]})}));return Object(o.createElement)(d.e,{value:i||[],onChange:c,options:f,label:a||s["ui:title"]||r.title,help:Object(o.createElement)(d.o,{noWrap:!0,content:p}),readOnly:l,disabled:t})}const{asNumber:O,guessType:h}=b.b,j=new Set(["number","integer"]);function v(e,t){const{type:n,items:i}=e;if(""!==t){if("array"===n&&i&&j.has(i.type))return t.map(O);if("boolean"===n)return"true"===t;if("number"===n)return O(t);if(e.enum){if(e.enum.every(e=>"number"===h(e)))return O(t);if(e.enum.every(e=>"boolean"===h(e)))return"true"===t}return t}}function g(e,t){return t?[].slice.call(e.target.options).filter(e=>e.selected).map(e=>e.value):e.target.value}var E=function(e){const{schema:t,uiSchema:n={},id:i,options:l,value:c,label:a,required:r,disabled:u,readonly:b,multiple:m,onChange:p,onBlur:f,onFocus:O,placeholder:h}=e,{enumOptions:j,enumDisabled:E}=l,y=m?[]:"",_=[];m||void 0!==t.default||_.push({value:"",label:h});for(const e of j)_.push({...e,disabled:E&&E.includes(e.value)});const C=n["ui:description"]||t.description;return Object(o.createElement)(s.SelectControl,{multiple:m,options:_,value:void 0===c?y:c,label:a,help:Object(o.createElement)(d.o,{noWrap:!0,content:C}),required:r,disabled:u,readOnly:b,onChange:e=>p(v(t,e)),onBlur:f&&(e=>f(i,v(t,g(e,m)))),onFocus:O&&(e=>O(i,v(t,g(e,m))))})};function y(e){let{schema:t,uiSchema:n={},id:i,value:l,disabled:a,readonly:u,label:b,onBlur:m,onFocus:p,onChange:f,...O}=e;const h=n["ui:description"]||t.description;return Object(o.createElement)(s.TextareaControl,r()({value:void 0===l?"":l,onChange:f,disabled:a,readOnly:u,label:b,help:Object(o.createElement)(d.o,{noWrap:!0,content:h}),onBlur:m&&(e=>m(i,e.target.value)),onFocus:p&&(e=>p(i,e.target.value))},Object(c.without)(O,["autofocus","formContext","registry","rawErrors"])))}const{asNumber:_,guessType:C}=b.b,x=new Set(["number","integer"]);function N(e,t){const{type:n,items:i}=e;if(""!==t){if("array"===n&&i&&x.has(i.type))return t.map(_);if("boolean"===n)return"true"===t;if("number"===n)return _(t);if(e.enum){if(e.enum.every(e=>"number"===C(e)))return _(t);if(e.enum.every(e=>"boolean"===C(e)))return"true"===t}return t}}function S(e){let{schema:t,uiSchema:n={},id:i,options:l,value:c,label:a,required:r,disabled:u,readonly:b,onChange:m,onBlur:p,onFocus:f}=e;const{enumOptions:O}=l,h=n["ui:description"]||t.description;return Object(o.createElement)(s.RadioControl,{selected:c,options:O,label:a,help:Object(o.createElement)(d.o,{noWrap:!0,content:h}),required:r,disabled:u,readOnly:b,onChange:e=>m(N(t,e)),onBlur:p&&(e=>p(i,N(t,e.target.value))),onFocus:f&&(e=>f(i,N(t,e.target.value)))})}var k=n("l3Sj"),F=n("gdqT"),w=n("RxS6");n("LZ3w");function T(e){let{id:t,disabled:n,options:i,value:l,onChange:a,schema:r,autofocus:d,readonly:u}=e;const{enumOptions:b,enumDisabled:m=[],excludeList:{title:p=Object(k.__)("Excluded","better-wp-security"),description:f=Object(k.__)("The list of items to exclude from the selection.","better-wp-security"),button:O=Object(k.__)("Include","better-wp-security")}={},includeList:{title:h=Object(k.__)("Included","better-wp-security"),description:j=Object(k.__)("The list of items to include in the selection.","better-wp-security"),button:v=Object(k.__)("Exclude","better-wp-security")}={},title:g=r.title,description:E=r.description}=i;Object(o.useEffect)(()=>{const e=b.map(e=>e.value),t=l.filter(t=>e.includes(t));t.length!==l.length&&a(t)},[l,b,a]);const[y,_]=Object(c.partition)(b,e=>!l.includes(e.value));return Object(o.createElement)("div",{className:"itsec-rjsf-include-exclude-widget"},g&&Object(o.createElement)(s.BaseControl.VisualLabel,null,g),E&&Object(o.createElement)("p",null,E),Object(o.createElement)("div",{className:"itsec-rjsf-include-exclude-widget__sides",id:t},Object(o.createElement)(I,{id:t+"__exclude",options:y,label:p,description:f,button:O,disabled:n||u,disabledOptions:m,autofocus:d,onToggle:e=>{Object(F.speak)(Object(k.sprintf)(Object(k.__)("Moved %1$s to %2$s.","better-wp-security"),Object(c.find)(y,{value:e}).label,h)),a([...l,e])}}),Object(o.createElement)(I,{id:t+"__include",options:_,label:h,description:j,button:v,disabled:n||u,disabledOptions:m,onToggle:e=>{Object(F.speak)(Object(k.sprintf)(Object(k.__)("Moved %1$s to %2$s.","better-wp-security"),Object(c.find)(_,{value:e}).label,p)),a(l.filter(t=>t!==e))}})))}function I(e){let{id:t,label:n,description:i,options:l,button:a,onToggle:r,disabled:u,disabledOptions:b=[],autofocus:m}=e;const p=t+"__option__",[f,O]=Object(o.useState)("");return f&&!Object(c.find)(l,{value:f})&&O(""),Object(o.createElement)("div",{className:"itsec-rjsf-include-exclude-widget__side"},Object(o.createElement)(s.BaseControl,{id:t,help:Object(o.createElement)(d.o,{noWrap:!0,content:i}),className:"itsec-rjsf-include-exclude-widget__listbox"},Object(o.createElement)("span",{className:"components-base-control__label",id:t+"__label"},n),Object(o.createElement)(d.b,{role:"listbox",id:t,active:f&&p+f,"aria-labelledby":t+"__label","aria-describedby":i&&t+"__help",onNavigate:e=>O(e.substr(p.length)),onKeyDown:e=>{var t;let{keyCode:n}=e;if(!f||n!==w.DELETE&&n!==w.BACKSPACE)return;const i=Object(c.findIndex)(l,{value:f}),a=i+1<l.length?i+1:i-1;r(f),O((null===(t=l[a])||void 0===t?void 0:t.value)||"")},autoFocus:m},l.map(e=>Object(o.createElement)("div",{id:p+e.value,key:e.value,role:u||b.includes(e.value)?"presentation":"option","aria-selected":e.value===f||void 0,onClick:u||b.includes(e.value)?void 0:()=>O(e.value)},e.label)))),Object(o.createElement)(s.Button,{isSecondary:!0,disabled:!f,className:"itsec-rjsf-include-exclude-widget__move",onClick:()=>r(f),"aria-keyshortcuts":"Delete Backspace"},a))}function L(e){const{id:t,title:n,required:i}=e;return Object(o.createElement)("span",{className:"itsec-rjsf-title-field",id:t},n,i&&Object(o.createElement)("span",{className:"required"},"*"))}const{getUiOptions:B}=b.b;function W(e){let{uiSchema:t,schema:n,idSchema:i,name:l,formData:c,disabled:a,readonly:r,onChange:s}=e;const u=B(t);return Object(o.createElement)(d.h,{id:i.$id,value:c,disabled:a,readonly:r,onChange:s,isMultiple:"array"===n.type,label:t["ui:title"]||n.title||l,description:t["ui:description"]||n.description,path:u.path,query:u.query,labelAttr:u.labelAttr,idAttr:u.idAttr,searchArg:u.searchArg})}const{getUiOptions:q}=b.b;function D(e){let{uiSchema:t,schema:n,name:i,formData:l,disabled:c,readonly:a,onChange:r}=e;const s=t["ui:title"]||n.title||i,u=t["ui:description"]||n.description,b=q(t),{rows:m,placeholder:p}=b;return Object(o.createElement)(d.w,{label:s,help:Object(o.createElement)(d.o,{noWrap:!0,content:u}),disabled:c,readonly:a,rows:m,value:l,onChange:r,placeholder:p})}var A=n("ywyh"),R=n.n(A),$=n("Mmq9");n("I56w");function P(e){let{idSchema:t,formData:n,onChange:i,uiSchema:l,schema:a,name:r,disabled:u,readonly:b,autofocus:m}=e;const p=t.$id,f=l["ui:title"]||a.title||r,O=l["ui:description"]||a.description,[h,j]=Object(o.useState)([]),[v,g]=Object(o.useState)("");Object(o.useEffect)(()=>{R()({path:Object($.addQueryArgs)("/ithemes-security/rpc/file-change/file-tree",{directory:"/"})}).then(j)},[]);const E=e=>{i(n.includes(e)?n.filter(t=>t!==e):[...n,e])};return Object(o.createElement)("div",{className:"itsec-rjsf-file-tree"},O&&Object(o.createElement)(d.o,{content:O,tagName:"p"}),Object(o.createElement)("div",{className:"itsec-rjsf-file-tree__controls"},Object(o.createElement)("div",null,Object(o.createElement)(d.x,{tree:h,id:p,label:Object(k.__)("File Selector","better-wp-security"),active:v,setActive:g,onActivate:E,onLoad:async e=>{const t=await R()({path:Object($.addQueryArgs)("/ithemes-security/rpc/file-change/file-tree",{directory:e})}),n=Object(c.cloneDeep)(h);Object(d.y)(n,n=>{if(n.id===e)return n.children=t,d.y.halt}),j(n)}}),Object(o.createElement)(s.Button,{isSecondary:!0,disabled:!v,className:"itsec-rjsf-file-tree__select",onClick:()=>E(v),"aria-keyshortcuts":"Enter Space"},Object(k.__)("Select","better-wp-security"))),Object(o.createElement)(d.w,{value:n,onChange:i,className:"itsec-rjsf-file-tree__list",label:f,disabled:u,readonly:b,autoFocus:m})))}function V(e){let{name:t,...n}=e;return Object(o.createElement)(s.Fill,r()({name:"RjsfField"+t},n))}function M(e){let{name:t,...n}=e;return Object(o.createElement)(s.Slot,r()({name:"RjsfField"+t},n))}n("UuI1");const{ADDITIONAL_PROPERTY_FLAG:U,getUiOptions:K}=b.b;function G(e){const{id:t,classNames:n,disabled:i,label:l,onKeyChange:c,onDropPropertyClick:a,readonly:r,required:d,schema:u,uiSchema:b}=e,m=l+" Key",p=u.hasOwnProperty(U),{removable:f}=K(b);return p&&!1!==f?Object(o.createElement)("div",{className:n},Object(o.createElement)("div",{className:"row"},Object(o.createElement)("div",{className:"col-xs-5 form-additional"},Object(o.createElement)(s.TextControl,{label:m,required:d,id:t+"-key",onBlur:e=>c(e.target.value)})),Object(o.createElement)("div",{className:"form-additional form-group col-xs-5"},e.children),Object(o.createElement)("div",{className:"col-xs-2"},Object(o.createElement)(s.Button,{icon:"no-alt",isDestructive:!0,disabled:i||r,onClick:a(l)})))):Object(o.createElement)("div",{className:n},e.children)}const{canExpand:J}=b.b;function Q(e){let{className:t,onClick:n,disabled:i}=e;return Object(o.createElement)("div",{className:"row"},Object(o.createElement)("p",{className:"col-xs-3 col-xs-offset-9 text-right "+t},Object(o.createElement)(s.Button,{icon:"plus-alt2",className:"btn-add col-xs-12","aria-label":Object(k.__)("Add","better-wp-security"),tabIndex:"0",onClick:n,disabled:i})))}const Y={FieldTemplate:function(e){const{children:t,errors:n,hidden:i,schema:l,uiSchema:c,formContext:a,onChange:r}=e;if(i)return null;const{resettable:d}=K(c);return Object(o.createElement)(G,e,t,Object(o.createElement)(M,{name:e.id,fillProps:e}),d&&Object(o.createElement)(s.Button,{className:"itsec-rjsf-reset-field",isSecondary:!0,onClick:()=>r(l.default)},Object(k.__)("Restore Default","better-wp-security")),!0!==(null==a?void 0:a.disableInlineErrors)&&n)},ObjectFieldTemplate:function(e){const{TitleField:t,DescriptionField:n,schema:i,uiSchema:l,properties:c}=e;if(!c.length)return null;const a=(l["ui:sections"]||[]).reduce((e,t)=>({...e,[t.fields.find(e=>!!i.properties[e])]:t}),{});return Object(o.createElement)("div",{className:"itsec-rjsf-object-fieldset",id:e.idSchema.$id},(l["ui:title"]||e.title)&&Object(o.createElement)(t,{id:e.idSchema.$id+"__title",title:e.title||l["ui:title"],required:e.required,formContext:e.formContext}),e.description&&Object(o.createElement)(n,{id:e.idSchema.$id+"__description",description:Object(o.createElement)(d.o,{noWrap:!0,content:e.description}),formContext:e.formContext}),c.map(e=>{let{name:t,content:n}=e;return a[t]?Object(o.createElement)(o.Fragment,{key:t},Object(o.createElement)("h3",{className:"itsec-rjsf-section-title"},a[t].title),a[t].description&&Object(o.createElement)("p",{className:"itsec-rjsf-section-description"},Object(o.createElement)(d.o,{noWrap:!0,content:a[t].description})),n):n}),J(i,l,e.formData)&&Object(o.createElement)(Q,{className:"object-property-expand",onClick:e.onAddClick(i),disabled:e.disabled||e.readonly}))},ErrorList:function(e){let{errors:t}=e;return Object(o.createElement)(d.i,{errors:t.map((function(){let{stack:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e})).filter(e=>!!e)})},widgets:i,fields:l};t.b=Y}}]);